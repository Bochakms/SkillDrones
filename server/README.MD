üöÅ SkillDrones - –°–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª–∏–∑–∞ –ø–æ–ª–µ—Ç–æ–≤ –ë–ü–õ–ê
üìã –û –ø—Ä–æ–µ–∫—Ç–µ

–°–∏—Å—Ç–µ–º–∞ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ø–æ–ª–µ—Ç–æ–≤ –±–µ—Å–ø–∏–ª–æ—Ç–Ω—ã—Ö –ª–µ—Ç–∞—Ç–µ–ª—å–Ω—ã—Ö –∞–ø–ø–∞—Ä–∞—Ç–æ–≤ (–ë–ü–õ–ê) –≤ —Ä–µ–≥–∏–æ–Ω–∞—Ö –†–æ—Å—Å–∏–∏. –°–µ—Ä–≤–∏—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ñ–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç –≥–µ–æ–ø—Ä–∏–≤—è–∑–∫—É –∫ —Å—É–±—ä–µ–∫—Ç–∞–º –†–§ –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∞–Ω–∞–ª–∏—Ç–∏–∫—É —á–µ—Ä–µ–∑ REST API.

–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫:

    Backend: Java 21, Spring Boot 3.x

    –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: PostgreSQL —Å PostGIS

    –ì–µ–æ–¥–∞–Ω–Ω—ã–µ: JTS, GeoTools, Hibernate Spatial

    –ì—Ä–∞—Ñ–∏–∫–∏: JFreeChart

    –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: Swagger/OpenAPI 3

    –ú–∞–ø–ø–∏–Ω–≥: MapStruct

    –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å: Spring Security

üéØ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ API
üéÆ –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã —Å–∏—Å—Ç–µ–º—ã

    RegionAnalysisController - –ê–Ω–∞–ª–∏–∑ –∏ –≥–µ–æ–ø—Ä–∏–≤—è–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö (/api/analysis)

    FlightProcessingController - –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–ª–µ—Ç–æ–≤ (/api/processing)

    ReportController - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤ –∏ –≥—Ä–∞—Ñ–∏–∫–æ–≤ (/api/reports)

üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

    Java 21 –∏–ª–∏ –≤—ã—à–µ

    PostgreSQL 15+

    Maven 3.9+

    Docker (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

    –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

bash

git clone <your-repository-url>
cd skilldrones/server

    –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

sql

-- –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
CREATE DATABASE dronedb;
CREATE EXTENSION postgis;

    –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
    –°–æ–∑–¥–∞–π—Ç–µ application.yml –≤ src/main/resources:

yaml

spring:
datasource:
url: jdbc:postgresql://localhost:5432/dronedb
username: your-username
password: your-password
jpa:
hibernate:
ddl-auto: update
show-sql: true

server:
port: 8081
servlet:
context-path: /api

springdoc:
api-docs:
path: /v3/api-docs
swagger-ui:
path: /swagger-ui.html
enabled: true

logging:
level:
com.drones.skilldrones: DEBUG

    –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

bash

mvn clean install
mvn spring-boot:run

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:8081/api
üìä API Endpoints
üîç 1. RegionAnalysisController - –ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö

–ë–∞–∑–æ–≤—ã–π URL: /api/analysis
–ê–Ω–∞–ª–∏–∑ —Ç–æ–ø —Ä–µ–≥–∏–æ–Ω–æ–≤ –∏–∑ —Ñ–∞–π–ª–∞
http

POST /api/analysis/top-regions
Content-Type: multipart/form-data

file: <excel-file>

–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:
bash

curl -X POST -F "file=@flights_data.xlsx" \
http://localhost:8081/api/api/analysis/top-regions

–ê–Ω–∞–ª–∏–∑ –∑–∞ –ø–µ—Ä–∏–æ–¥
http

POST /api/analysis/top-regions/period?startDate=2024-01-01&endDate=2024-01-31
Content-Type: multipart/form-data

file: <excel-file>

–£–ø—Ä–æ—â–µ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑
http

POST /api/analysis/top-regions/simple
Content-Type: multipart/form-data

file: <excel-file>

–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞ —Ä–µ–≥–∏–æ–Ω–æ–≤
http

GET /api/analysis/regions
GET /api/analysis/regions/{regionId}

‚öôÔ∏è 2. FlightProcessingController - –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö

–ë–∞–∑–æ–≤—ã–π URL: /api/processing
–ü–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–∞
http

POST /api/processing/process-file
Content-Type: multipart/form-data

file: <excel-file>

–ü—Ä–∏–º–µ—Ä:
bash

curl -X POST -F "file=@flights_data.xlsx" \
http://localhost:8081/api/api/processing/process-file

–û—Ç–≤–µ—Ç:
json

{
"message": "–§–∞–π–ª —É—Å–ø–µ—à–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω",
"totalRecords": 150,
"processedSuccessfully": 145,
"failed": 5,
"successRate": "96.67%"
}

–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏
http

GET /api/processing/stats

–û—Ç–≤–µ—Ç:
json

{
"totalProcessed": 1000,
"successful": 950,
"failed": 50,
"successRate": 95.0
}

üìà 3. ReportController - –û—Ç—á–µ—Ç—ã –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

–ë–∞–∑–æ–≤—ã–π URL: /api/reports
–†–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç (JSON)
http

GET /api/reports/regional?startDate=2024-01-01&endDate=2024-01-31

–ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –æ—Ç—á–µ—Ç
http

GET /api/reports/comprehensive?startDate=2024-01-01&endDate=2024-01-31

–¢–æ–ø —Ä–µ–≥–∏–æ–Ω–æ–≤ –æ—Ç—á–µ—Ç
http

GET /api/reports/top-regions?startDate=2024-01-01&endDate=2024-01-31

–ì—Ä–∞—Ñ–∏–∫–∏ (PNG)
http

GET /api/reports/chart?startDate=2024-01-01&endDate=2024-01-31&chartType=bar

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã chartType:

    bar - —Å—Ç–æ–ª–±—á–∞—Ç–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞

    line - –ª–∏–Ω–µ–π–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫

    pie - –∫—Ä—É–≥–æ–≤–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞

–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç—á–µ—Ç–∞–º–∏
http

GET /api/reports/history              # –ò—Å—Ç–æ—Ä–∏—è –æ—Ç—á–µ—Ç–æ–≤
GET /api/reports/{reportId}          # –û—Ç—á–µ—Ç –ø–æ ID
GET /api/reports/type/{reportType}   # –û—Ç—á–µ—Ç—ã –ø–æ —Ç–∏–ø—É
GET /api/reports/statistics          # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ—Ç—á–µ—Ç–æ–≤

üìÅ –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö
–°—Ç—Ä—É–∫—Ç—É—Ä–∞ Excel —Ñ–∞–π–ª–∞

–§–∞–π–ª –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å—Ç–æ–ª–±—Ü—ã:

    –¶–µ–Ω—Ç—Ä –ï–° –û—Ä–í–î - —Ü–µ–Ω—Ç—Ä —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª–µ—Ç–∞–º–∏

    SHR - —Å—ã—Ä–æ–π —Ç–µ–∫—Å—Ç SHR-—Ç–µ–ª–µ–≥—Ä–∞–º–º—ã

    DEP - —Å—ã—Ä–æ–π —Ç–µ–∫—Å—Ç DEP-—Ç–µ–ª–µ–≥—Ä–∞–º–º—ã

    ARR - —Å—ã—Ä–æ–π —Ç–µ–∫—Å—Ç ARR-—Ç–µ–ª–µ–≥—Ä–∞–º–º—ã

–ü—Ä–∏–º–µ—Ä —Ñ–æ—Ä–º–∞—Ç–∞ —Ç–µ–ª–µ–≥—Ä–∞–º–º—ã:
text

SHR-RA2411G
-ZZZZ1100
-M0000/M0029 /ZONA 5943N02942E...
-DEP/5935N02935E DEST/5938N02946E DOF/250105...

üóÑÔ∏è –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
–û—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏

    RawTelegram - –°—ã—Ä—ã–µ —Ç–µ–ª–µ–≥—Ä–∞–º–º—ã –∏–∑ Excel

    Flight - –û–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª–µ—Ç–æ–≤

    Region - –†–µ–≥–∏–æ–Ω—ã –†–§ —Å –≥–µ–æ–¥–∞–Ω–Ω—ã–º–∏

    ReportLog - –ò—Å—Ç–æ—Ä–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç—á–µ—Ç–æ–≤

    User - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–∏—Å—Ç–µ–º—ã

üîß –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API
1. Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –æ—Ç–∫—Ä–æ–π—Ç–µ:
text

http://localhost:8081/api/swagger-ui.html

2. –ü—Ä–∏–º–µ—Ä—ã —Ç–µ—Å—Ç–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

–¢–µ—Å—Ç –ø–æ–ª–Ω–æ–≥–æ —Ü–∏–∫–ª–∞:
bash

# 1. –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–∞
curl -X POST -F "file=@test_data.xlsx" http://localhost:8081/api/api/processing/process-file

# 2. –ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö
curl -X POST -F "file=@test_data.xlsx" http://localhost:8081/api/api/analysis/top-regions

# 3. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–∞
curl "http://localhost:8081/api/api/reports/comprehensive?startDate=2024-01-01&endDate=2024-01-31"

# 4. –ü–æ–ª—É—á–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–∞
curl "http://localhost:8081/api/api/reports/chart?startDate=2024-01-01&endDate=2024-01-31" --output chart.png

üê≥ Docker —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
yaml

version: '3.8'
services:
postgres:
image: postgis/postgis:15-3.3
environment:
POSTGRES_DB: dronedb
POSTGRES_USER: postgres
POSTGRES_PASSWORD: password
ports:
- "5432:5432"

app:
build: .
ports:
- "8081:8081"
environment:
SPRING_DATASOURCE_URL: jdbc:postgresql://postgres:5432/dronedb
SPRING_DATASOURCE_USERNAME: postgres
SPRING_DATASOURCE_PASSWORD: password
depends_on:
- postgres

üö® Troubleshooting
–ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

–î–æ—Å—Ç—É–ø –∫ Swagger:
text

–û—à–∏–±–∫–∞ 403 Forbidden –Ω–∞ /swagger-ui.html

–†–µ—à–µ–Ω–∏–µ: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Spring Security –¥–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞ –∫ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º Swagger

–û—à–∏–±–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:
text

No property 'processingStatus' found for type 'Flight'

–†–µ—à–µ–Ω–∏–µ: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ–ª–µ processingStatus —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ —Å—É—â–Ω–æ—Å—Ç–∏ Flight

–§–æ—Ä–º–∞—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç:
text

–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Ç–æ—á–∫–∏ –∏–∑ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç

–†–µ—à–µ–Ω–∏–µ: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –≤ Excel —Ñ–∞–π–ª–µ (–ø—Ä–∏–º–µ—Ä: "5957N02905E")
üìû –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
–ë–∞–∑–æ–≤—ã–µ URL:

    –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: http://localhost:8081/api

    Swagger: http://localhost:8081/api/swagger-ui.html

    API Docs: http://localhost:8081/api/v3/api-docs