üöÅ SkillDrones - –°–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª–∏–∑–∞ –ø–æ–ª–µ—Ç–æ–≤ –ë–ü–õ–ê

üìã –û –ø—Ä–æ–µ–∫—Ç–µ

–°–∏—Å—Ç–µ–º–∞ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ø–æ–ª–µ—Ç–æ–≤ –±–µ—Å–ø–∏–ª–æ—Ç–Ω—ã—Ö –ª–µ—Ç–∞—Ç–µ–ª—å–Ω—ã—Ö –∞–ø–ø–∞—Ä–∞—Ç–æ–≤ (–ë–ü–õ–ê) –≤ —Ä–µ–≥–∏–æ–Ω–∞—Ö –†–æ—Å—Å–∏–∏. –°–µ—Ä–≤–∏—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ñ–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç –≥–µ–æ–ø—Ä–∏–≤—è–∑–∫—É –∫ —Å—É–±—ä–µ–∫—Ç–∞–º –†–§ –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∞–Ω–∞–ª–∏—Ç–∏–∫—É —á–µ—Ä–µ–∑ REST API.

–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫:

    Backend: Java 17, Spring Boot 3.x

    –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: PostgreSQL —Å PostGIS

    –ì–µ–æ–¥–∞–Ω–Ω—ã–µ: JTS, GeoTools

    –ì—Ä–∞—Ñ–∏–∫–∏: JFreeChart

    –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: Swagger/OpenAPI 3

üéØ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ API
üéÆ –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã —Å–∏—Å—Ç–µ–º—ã

    RegionAnalysisController - –ê–Ω–∞–ª–∏–∑ –∏ –≥–µ–æ–ø—Ä–∏–≤—è–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö

    FlightProcessingController - –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–ª–µ—Ç–æ–≤

    ReportController - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤ –∏ –≥—Ä–∞—Ñ–∏–∫–æ–≤

üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

    Java 21 –∏–ª–∏ –≤—ã—à–µ

    PostgreSQL 12+

    Maven 3.6+

    Docker (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

    –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

bash

git clone <your-repository-url>
cd skilldrones/server

    –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

sql

-- –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
CREATE DATABASE dronedb;
CREATE EXTENSION postgis;

    –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
    –°–æ–∑–¥–∞–π—Ç–µ application.yml –≤ src/main/resources:

yaml

spring:
datasource:
url: jdbc:postgresql://localhost:5432/dronedb
username: your-username
password: your-password
jpa:
hibernate:
ddl-auto: update
show-sql: true

server:
port: 8080

logging:
level:
com.drones.skilldrones: DEBUG

    –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

bash

mvn clean install
mvn spring-boot:run

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:8081
üìä API Endpoints
üîç 1. RegionAnalysisController - –ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö

–ë–∞–∑–æ–≤—ã–π URL: /api/analysis
–ó–∞–≥—Ä—É–∑–∫–∞ –∏ –∞–Ω–∞–ª–∏–∑ Excel —Ñ–∞–π–ª–∞
http

POST /api/analysis/top-regions
Content-Type: multipart/form-data

file: <excel-file>

–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ (curl):
bash

curl -X POST -F "file=@flights_data.xlsx" \
http://localhost:8081/api/analysis/top-regions

–ê–Ω–∞–ª–∏–∑ –∑–∞ –ø–µ—Ä–∏–æ–¥:
http

POST /api/analysis/top-regions/period?startDate=2024-01-01&endDate=2024-01-31
Content-Type: multipart/form-data

file: <excel-file>

–ü—Ä–æ—Å—Ç–æ–π —Ç–æ–ø —Ä–µ–≥–∏–æ–Ω–æ–≤:
http

POST /api/analysis/top-regions/simple
Content-Type: multipart/form-data

file: <excel-file>

–û—Ç–≤–µ—Ç:
json

[
"1. –ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å (42 –ø–æ–ª–µ—Ç–æ–≤)",
"2. –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥ (38 –ø–æ–ª–µ—Ç–æ–≤)"
]

‚öôÔ∏è 2. FlightProcessingController - –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö

–ë–∞–∑–æ–≤—ã–π URL: /api/processing
–ü–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–∞
http

POST /api/processing/process-file
Content-Type: multipart/form-data

file: <excel-file>

–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:
bash

curl -X POST -F "file=@flights_data.xlsx" \
http://localhost:8081/api/processing/process-file

–û—Ç–≤–µ—Ç:
json

{
"message": "–§–∞–π–ª —É—Å–ø–µ—à–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω",
"totalRecords": 150,
"processedSuccessfully": 145,
"failed": 5
}

–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏
http

GET /api/processing/stats

–û—Ç–≤–µ—Ç:
json

{
"totalProcessed": 1000,
"successful": 950,
"failed": 50
}

üìà 3. ReportController - –û—Ç—á–µ—Ç—ã –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

–ë–∞–∑–æ–≤—ã–π URL: /api/reports
–†–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç (JSON)
http

GET /api/reports/regional?startDate=2024-01-01&endDate=2024-01-31

–ü—Ä–∏–º–µ—Ä:
bash

curl "http://localhost:8081/api/reports/regional?startDate=2024-01-01&endDate=2024-01-31"

–ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –æ—Ç—á–µ—Ç
http

GET /api/reports/comprehensive?startDate=2024-01-01&endDate=2024-01-31

–û—Ç–≤–µ—Ç –≤–∫–ª—é—á–∞–µ—Ç:
json

{
"reportType": "COMPREHENSIVE",
"totalFlights": 145,
"droneTypeDistribution": {
"BLA": 80,
"SHAR": 45,
"AER": 20
},
"regionalDistribution": {
"–ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å": 42,
"–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥": 38
},
"chartFilePath": "/tmp/chart123.png"
}

–¢–æ–ø —Ä–µ–≥–∏–æ–Ω–æ–≤ –æ—Ç—á–µ—Ç
http

GET /api/reports/top-regions?startDate=2024-01-01&endDate=2024-01-31

–ì—Ä–∞—Ñ–∏–∫–∏ (PNG)
http

GET /api/reports/chart?startDate=2024-01-01&endDate=2024-01-31&chartType=bar

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã chartType:

    bar - —Å—Ç–æ–ª–±—á–∞—Ç–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞

    line - –ª–∏–Ω–µ–π–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫

    pie - –∫—Ä—É–≥–æ–≤–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞

–ü—Ä–∏–º–µ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ –≥—Ä–∞—Ñ–∏–∫–∞:
bash

curl "http://localhost:8081/api/reports/chart?startDate=2024-01-01&endDate=2024-01-31&chartType=bar" --output chart.png

üîÑ Workflow –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API
–°—Ü–µ–Ω–∞—Ä–∏–π 1: –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –æ–±—Ä–∞–±–æ—Ç–∫–∏

    –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö ‚Üí POST /api/processing/process-file

    –ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ ‚Üí POST /api/analysis/top-regions

    –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤ ‚Üí GET /api/reports/comprehensive

    –ü–æ–ª—É—á–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–æ–≤ ‚Üí GET /api/reports/chart

–°—Ü–µ–Ω–∞—Ä–∏–π 2: –ë—ã—Å—Ç—Ä—ã–π –∞–Ω–∞–ª–∏–∑

    –ü—Ä—è–º–æ–π –∞–Ω–∞–ª–∏–∑ ‚Üí POST /api/analysis/top-regions

    –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è ‚Üí GET /api/reports/chart

üß™ –¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
–¢–µ—Å—Ç 1: –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–∞
javascript

// 1. –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞
const formData = new FormData();
formData.append('file', excelFile);

// 2. –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
const processingResponse = await fetch('/api/processing/process-file', {
method: 'POST',
body: formData
});

// 3. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
const statsResponse = await fetch('/api/processing/stats');

–¢–µ—Å—Ç 2: –ê–Ω–∞–ª–∏–∑ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
javascript

// 1. –ê–Ω–∞–ª–∏–∑ —Ç–æ–ø —Ä–µ–≥–∏–æ–Ω–æ–≤
const analysisResponse = await fetch('/api/analysis/top-regions', {
method: 'POST',
body: formData
});

// 2. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≥—Ä–∞—Ñ–∏–∫–∞
const chartResponse = await fetch('/api/reports/chart?chartType=bar');
const chartBlob = await chartResponse.blob();

–¢–µ—Å—Ç 3: –ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç—å
javascript

// 1. –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–≥–æ –æ—Ç—á–µ—Ç–∞
const reportResponse = await fetch('/api/reports/comprehensive?startDate=2024-01-01&endDate=2024-01-31');
const reportData = await reportResponse.json();

// 2. –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫
console.log('–¢–æ–ø —Ä–µ–≥–∏–æ–Ω–æ–≤:', reportData.regionalDistribution);
console.log('–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Ç–∏–ø–∞–º:', reportData.droneTypeDistribution);

üìä –§–æ—Ä–º–∞—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤
RegionAnalysisController
json

{
"totalFlightsProcessed": 145,
"failedGeolocation": 5,
"topRegions": [
{
"rank": 1,
"regionName": "–ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
"flightCount": 42,
"flightDensity": 0.95
}
]
}

FlightProcessingController
json

{
"message": "–§–∞–π–ª —É—Å–ø–µ—à–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω",
"totalRecords": 150,
"processedSuccessfully": 145,
"failed": 5
}

ReportController
json

{
"totalFlights": 145,
"regionalDistribution": {
"–ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å": 42,
"–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥": 38
},
"dailyFlights": {
"2024-01-01": 15,
"2024-01-02": 20
}
}

üö® –û—à–∏–±–∫–∏ –∏ —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º
–ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏

    –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
    text

Connection to localhost:5432 refused

–†–µ—à–µ–Ω–∏–µ: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ PostgreSQL –∑–∞–ø—É—â–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω

–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞
text

Required request part 'file' is not present

–†–µ—à–µ–Ω–∏–µ: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ–∞–π–ª –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –∏–º–µ–Ω–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä–∞

–û—à–∏–±–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
text

–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Ç–æ—á–∫–∏ –∏–∑ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç

    –†–µ—à–µ–Ω–∏–µ: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –≤ Excel —Ñ–∞–π–ª–µ

–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–£—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –≤ application.yml:
yaml

logging:
level:
com.drones.skilldrones: DEBUG
org.hibernate.SQL: DEBUG